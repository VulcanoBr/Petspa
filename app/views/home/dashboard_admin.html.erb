<div class="w-screen lg:w-9/12 mx-auto p-5 mt-3 rounded shadow-xl border">
  <div class="px-6 py-10 rounded-t-xl bg-gray-50">
    <h1 class="text-3xl font-extrabold text-center"><%= current_user.first_name %>'s Dashboard Admin Page</h1>
    <p class="text-center text-gray-600 mt-2">Here you can manage all the bookings that were created.</p>
  </div>

  <div class="my-5 flex justify-between items-center gap-5">
    <div class="flex flex-col sm:flex-row gap-5 items-center justify-between">
      <%= link_to "My Cities", cities_path, class: "rounded-lg py-3 px-5 bg-blue-400 text-white block font-bold" %>
      <%= link_to "New City", new_city_path, class: "rounded-lg py-3 px-5 bg-blue-400 text-white block font-bold" %>
    </div>

    <div class="flex flex-col sm:flex-row gap-5 items-center justify-between">
      <%= link_to "My Locals", locals_path, class: "rounded-lg py-3 px-5 bg-blue-400 text-white block font-bold" %>
      <%= link_to "New Local", new_local_path, class: "rounded-lg py-3 px-5 bg-blue-400 text-white block font-bold" %>
    </div>

    <div class="flex flex-col sm:flex-row gap-5 items-center justify-between">
      <%= link_to "My Appointment Types", appointment_types_path, class: "rounded-lg py-3 px-5 bg-blue-400 text-white block font-bold w-max" %>
      <%= link_to "New Appointment Type", new_appointment_type_path, class: "rounded-lg py-3 px-5 bg-blue-400 text-white block font-bold" %>
    </div>
  </div>
  
  <div class="mt-4">
    <div class="flex justify-start  border-t border-slate-2 pt-5">
      <%= link_to "View all appointments", appointments_path, class: "bg-blue-400 text-white rounded p-4 font-bold" %>
    </div>
    <% if @appointments.scheduled.any? %>
      <h3 class="font-bold text-2xl mb-6 pt-10">Scheduled appointments</h3>
      <table class="w-full table">
        <thead>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Status</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Pet Name</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Breed</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Kind</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Starts</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Ends</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Appointment Type</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Paid</th>
        </thead>
        <tbody>
          <% @appointments.scheduled.limit(8).each do |appointment| %>
            <%= render "home/appointments", appointment: appointment %>
          <% end %>
        </tbody>
      </table>
      
    <% end %>

    <% if @appointments.processing.any? %>
      <h3 class="font-bold text-2xl mb-6 mt-10 pt-10 border-t border-slate-2">Processing appointments</h3>
      <table class="w-full table">
        <thead>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Status</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Pet Name</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Breed</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Kind</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Starts</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Ends</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Appointment Type</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Paid</th>
        </thead>
        <tbody>
          <% @appointments.processing.limit(8).each do |appointment| %> 
            <%= render "home/appointments", appointment: appointment %>
          <% end %>
        </tbody>
      </table>
    <% end %>

    <% if @appointments.finished.any? %>
      <h3 class="font-bold text-2xl mb-6 mt-10 pt-10 border-t border-slate-2">Finished appointments</h3>
      <table class="w-full table">
        <thead>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Status</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Pet Name</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Breed</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Kind</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Starts</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Ends</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Appointment Type</th>
          <th class="border border-slate-300 p-3 text-left bg-slate-50">Paid</th>
        </thead>
        <tbody>
          <% @appointments.finished.limit(8).each do |appointment| %>
            <%= render "home/appointments", appointment: appointment %>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </divmt-4>
</div>